<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
	<!--  Está plantilla estará oculta, class="d-none" luego con jquery atraves de javascript leamos está plantailla y reemplazmos los valores-->
	<table th:fragment="itemsFactura" class="d-none">

		<tbody id="plantillaItemsFactura">
			<!--  El row_{ID} se reemplazara por el valor real del ID del producto. -->
			<tr id="row_{ID}">
				<!-- Una factura puede tener varias líneas por tanto usamos un arreglo item_id[] -->
				<td class="d-none"><input type="hidden" value="{ID}"
					name="item_id[]" /></td>
				<td>{NOMBRE}</td>
				<td>{PRECIO}</td>
			<!--  Añadimos el evento onchange para que realice el calculo cuando aumenta la cantidad de productos -->
				<td><input type="number" value="1" name="cantidad[]"
					id="cantidad_{ID}" class="form-control col-sm-4" onchange="itemsHelper.calcularImporte({ID},{PRECIO}, this.value);"/></td>
				<!-- Calculamos Precio por la Cantidad. -->
				<td><span id="total_importe_{ID}">0</span></td>
				<td><a href="#" class="btn btn-danger btn-xs" onclick="itemsHelper.eliminarLineaFactura({ID});">x</a></td>
			</tr>
		</tbody>

	</table>

</body>
</html>